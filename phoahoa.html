<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>PhÃ¡o Hoa ðŸŽ†</title>
<style>
  body { margin:0; overflow:hidden; background:black; font-family:sans-serif; }
  canvas { display:block; }
  #loveText {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 60px;
    font-weight: bold;
    text-align: center;
    pointer-events: none;
    color: white;
    text-shadow: 0 0 10px red, 0 0 20px yellow, 0 0 30px pink, 0 0 40px cyan;
  }
</style>
</head>
<body>

<canvas id="fireworkCanvas"></canvas>
<div id="loveText">Anh YÃªu Em</div>

<!-- Audio ná»• phÃ¡o hoa -->
<audio id="fireworkSound" src="Music/12.mp3"></audio>

<script>
const canvas = document.getElementById('fireworkCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const fireworkSound = document.getElementById('fireworkSound');

function random(min,max){return Math.random()*(max-min)+min;}
function randomColor(){return `hsl(${Math.random()*360},100%,60%)`;}

// Firework class
class Firework {
  constructor(x,y){
    this.sparks=[];
    for(let i=0;i<70;i++){
      const angle = Math.random()*2*Math.PI;
      const speed = random(1,5);
      this.sparks.push({
        x, y,
        vx: Math.cos(angle)*speed,
        vy: Math.sin(angle)*speed,
        alpha:1,
        color: randomColor()
      });
    }

    // PhÃ¡t Ã¢m thanh ná»•
    if(fireworkSound){
      fireworkSound.currentTime = 0;
      fireworkSound.play().catch(e=>console.log(e));
    }
  }

  update(){ 
    this.sparks.forEach(s=>{
      s.x+=s.vx; 
      s.y+=s.vy; 
      s.vy+=0.03; // gravity nháº¹
      s.alpha-=0.015; // fade cháº­m
    });
    this.sparks = this.sparks.filter(s=>s.alpha>0);
  }

  draw(){
    this.sparks.forEach(s=>{
      ctx.fillStyle=s.color;
      ctx.shadowColor=s.color;
      ctx.shadowBlur=15;
      ctx.globalAlpha=s.alpha;
      ctx.beginPath();
      ctx.arc(s.x,s.y,4,0,2*Math.PI);
      ctx.fill();
    });
    ctx.globalAlpha=1;
    ctx.shadowBlur=0;
  }

  done(){return this.sparks.length===0;}
}

const fireworks=[];
function animate(){
  ctx.fillStyle = "rgba(0,0,0,0.15)"; // trail
  ctx.fillRect(0,0,canvas.width,canvas.height);

  fireworks.forEach(f=>{f.update(); f.draw();});
  for(let i=fireworks.length-1;i>=0;i--){if(fireworks[i].done()) fireworks.splice(i,1);}

  // Text mÃ u sáº¯c nháº¥p nhÃ¡y
  const loveText = document.getElementById('loveText');
  const hue = Math.floor(Date.now()/10 % 360);
  loveText.style.color = `hsl(${hue},100%,60%)`;
  loveText.style.textShadow = `
    0 0 10px hsl(${hue},100%,70%),
    0 0 20px hsl(${(hue+60)%360},100%,70%),
    0 0 30px hsl(${(hue+120)%360},100%,70%),
    0 0 40px hsl(${(hue+180)%360},100%,70%)
  `;

  requestAnimationFrame(animate);
}
animate();

// Báº¯n tá»± Ä‘á»™ng cháº­m
setInterval(()=>{
  fireworks.push(new Firework(random(100,canvas.width-100), random(100,canvas.height/2)));
}, 800);

</script>
</body>
</html>
